[pytest]
# Configuración de pytest para el proyecto

# Directorio de tests
testpaths = tests

# Patrón de archivos de test
python_files = test_*.py *_test.py

# Patrón de clases de test
python_classes = Test*

# Patrón de funciones de test
python_functions = test_*

# Marcadores personalizados
markers =
    slow: Tests lentos que acceden a base de datos o APIs externas
    integration: Tests de integración (requieren DB, servicios externos)
    unit: Tests unitarios puros (solo lógica, sin I/O)
    smoke: Tests de smoke (verificación básica)

# Opciones por defecto
addopts =
    -v
    --strict-markers
    --tb=short
    --disable-warnings
    -m "not slow"

# Coverage (si se instala pytest-cov)
# --cov=domain
# --cov=infrastructure
# --cov=interface
# --cov-report=html
# --cov-report=term-missing
# --cov-fail-under=50

# Directorio de caché
cache_dir = .pytest_cache

# Mostrar resumen de tests
console_output_style = progress

# Timeout por test (si se instala pytest-timeout)
# timeout = 30

# Parallel execution (si se instala pytest-xdist)
# addopts = -n auto
