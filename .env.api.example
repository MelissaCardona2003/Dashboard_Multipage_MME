# ═══════════════════════════════════════════════════════════
# CONFIGURACIÓN DE LA API RESTful - Portal Energético MME
# ═══════════════════════════════════════════════════════════

# ──────────────────────────────────────────────────────────
# API REST - FastAPI
# ──────────────────────────────────────────────────────────

# Habilitar API REST
API_ENABLED=true

# Puerto del servidor API
API_PORT=8000

# Habilitar documentación Swagger/ReDoc (deshabilitar en producción)
API_DOCS_ENABLED=true

# ──────────────────────────────────────────────────────────
# Seguridad de la API
# ──────────────────────────────────────────────────────────

# Habilitar validación de API Key
API_KEY_ENABLED=true

# API Key principal (CAMBIAR EN PRODUCCIÓN)
API_KEY=mme-portal-energetico-2026-secret-key

# API Keys adicionales (separadas por comas)
API_KEYS_WHITELIST=key-desarrollo,key-testing,key-frontend

# ──────────────────────────────────────────────────────────
# Rate Limiting
# ──────────────────────────────────────────────────────────

# Límite de requests por minuto
# Formato: "N/period" donde period puede ser: second, minute, hour, day
API_RATE_LIMIT=100/minute

# ──────────────────────────────────────────────────────────
# CORS (Cross-Origin Resource Sharing)
# ──────────────────────────────────────────────────────────

# Orígenes permitidos (separados por comas)
# Usar "*" para permitir todos (solo desarrollo)
# Producción: especificar dominios exactos
API_CORS_ORIGINS=*

# Ejemplos de configuración CORS:
# API_CORS_ORIGINS=https://dashboard.mme.gov.co,https://admin.mme.gov.co
# API_CORS_ORIGINS=http://localhost:3000,http://localhost:8050

# ──────────────────────────────────────────────────────────
# Configuración General del Portal
# ──────────────────────────────────────────────────────────

# Entorno de ejecución
DASH_ENV=development  # development | production | testing

# Debug mode (deshabilitar en producción)
DASH_DEBUG=false

# Puerto del dashboard Dash
DASH_PORT=8050

# ──────────────────────────────────────────────────────────
# Inteligencia Artificial
# ──────────────────────────────────────────────────────────

# Groq API (primaria)
GROQ_API_KEY=tu-api-key-de-groq

# OpenRouter API (backup)
OPENROUTER_API_KEY=tu-api-key-de-openrouter

# Modelo de IA
AI_MODEL=llama-3.3-70b-versatile

# ──────────────────────────────────────────────────────────
# Base de Datos - PostgreSQL
# ──────────────────────────────────────────────────────────

USE_POSTGRES=true
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=portal_energetico
POSTGRES_USER=postgres
POSTGRES_PASSWORD=tu-password-seguro

# ──────────────────────────────────────────────────────────
# Logging
# ──────────────────────────────────────────────────────────

LOG_LEVEL=INFO  # DEBUG | INFO | WARNING | ERROR | CRITICAL

# ──────────────────────────────────────────────────────────
# Gunicorn (Servidor de Producción)
# ──────────────────────────────────────────────────────────

GUNICORN_WORKERS=4
GUNICORN_THREADS=4
GUNICORN_TIMEOUT=120
GUNICORN_KEEPALIVE=5
GUNICORN_MAX_REQUESTS=1000

# ══════════════════════════════════════════════════════════
# NOTAS DE CONFIGURACIÓN
# ══════════════════════════════════════════════════════════

# 1. DESARROLLO LOCAL:
#    - API_KEY_ENABLED=false (opcional)
#    - API_DOCS_ENABLED=true
#    - DASH_ENV=development
#    - API_CORS_ORIGINS=*

# 2. PRODUCCIÓN:
#    - Cambiar API_KEY a valor seguro
#    - API_DOCS_ENABLED=false (por seguridad)
#    - DASH_ENV=production
#    - API_CORS_ORIGINS=dominios-especificos
#    - Usar HTTPS siempre

# 3. SEGURIDAD:
#    - Nunca compartir API_KEY en repositorios públicos
#    - Rotar API_KEY periódicamente
#    - Usar HTTPS en producción
#    - Configurar firewall para API_PORT

# 4. RATE LIMITING:
#    - Ajustar según capacidad del servidor
#    - Monitorear uso y ajustar límites
#    - Considerar rate limiting por usuario en futuro
